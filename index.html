<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zooker ‚Äî Anime & Movies</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
</head>
<body>

  <div id="app">
    <header class="site-header">
      
        <div class="mobile-controls">
            <button id="menuToggle" class="icon-btn"><i class="fas fa-bars"></i></button>
        </div>

      <div class="brand" onclick="navigate('home')">ZOOKER</div>
      
            <nav id="desktopNav">
        <a href="#" onclick="navigate('home')">Home</a>
        <a href="#" id="uploadLink" onclick="navigate('upload')" style="display:none;">Upload</a> 
        <a href="#" id="adminLink" onclick="navigate('admin')" style="display:none;">Admin</a> 
        <a href="#" id="authLink" onclick="navigate('login')">Login</a>
        <a href="#" id="logoutBtn" style="display:none;" onclick="logoutUser()">Logout</a>
      </nav>

        <div class="mobile-controls">
            <button id="userToggle" class="icon-btn"><i class="fas fa-user-circle"></i></button>
        </div>
    </header>
    
    <div id="sidebarMenu" class="sidebar">
        <a href="#" onclick="navigate('home'); closeSidebar();">Home</a>
        <a href="#trending" onclick="scrollToSection('trending'); closeSidebar();">Trending</a>
        <a href="#popular" onclick="scrollToSection('popular'); closeSidebar();">Popular</a>
        <a href="#" onclick="alert('About Page Not Implemented'); closeSidebar();">About</a>
        </div>
    <div id="sidebarOverlay" class="sidebar-overlay" onclick="closeSidebar()"></div>

    <div id="userMenu" class="user-menu-dropdown">
        </div>

        <div id="searchBarContainer" class="search-bar-container">
        <input type="text" id="searchBar" placeholder="Search Anime & Movies..." />
    </div>

    <main id="view" class="container"></main>
    
    <template id="tpl-home">
        <div id="trending" class="section">
            <h2>üî• Trending Now</h2>
            <div id="trendingSlider" class="slider-container">
                </div>
        </div>
        
        <div id="popular" class="section">
            <h2>‚≠ê All Anime & Movies</h2>
            <div id="animeList" class="card-grid">
                </div>
        </div>
    </template>

    <template id="tpl-edit">
        <div class="upload-container">
            <h2>Edit Content: <span id="edit-doc-id-display" style="font-size: 0.8em; color: var(--muted);"></span></h2>
            <form id="editForm" class="upload-form">
                <input type="hidden" id="e_docId" />
                <input type="text" id="e_title" placeholder="Full Title (e.g., Attack on Titan S4 E12)" required />
                <input type="text" id="e_seriesId" placeholder="Series ID (e.g., Attack On Titan)" required />
                <div class="flex-row">
                    <input type="number" id="e_season" placeholder="Season No." value="1" min="1" required />
                    <input type="number" id="e_episode" placeholder="Episode No." value="1" min="1" required />
                </div>
                <input type="url" id="e_image" placeholder="Image URL (Poster/Thumbnail)" required />
                <input type="url" id="e_video" placeholder="Video URL (Embed Link)" required />
                <textarea id="e_desc" placeholder="Description / Synopsis / Year (e.g., 2023)" required></textarea>
                <button type="submit" class="cta-btn">Save Changes</button>
            </form>
        </div>
    </template>

    <template id="tpl-login">
        <div class="auth-box">
            <h2>Login to Zooker</h2>
            <form id="loginForm" class="auth-form"> 
                <input type="email" id="loginEmail" placeholder="Email" required />
                <input type="password" id="loginPass" placeholder="Password" required />
                <button type="submit" class="cta-btn">Login</button>
                <p>Don't have an account? <a href="#" onclick="navigate('signup')">Sign Up</a></p>
            </form>
        </div>
    </template>

    <template id="tpl-signup">
        <div class="auth-box">
            <h2>Create Account</h2>
            <form id="signupForm" class="auth-form">
                <input type="email" id="signEmail" placeholder="Email" required />
                <input type="password" id="signPass" placeholder="Password" required />
                <button type="submit" class="cta-btn">Sign Up</button>
                <p>Already have an account? <a href="#" onclick="navigate('login')">Login</a></p>
            </form>
        </div>
    </template>

    <template id="tpl-upload">
        <div class="upload-container">
            <h2>Upload New Content</h2>
            <form id="uploadForm" class="upload-form">
                <input type="text" id="u_title" placeholder="Full Title (e.g., Attack on Titan S4 E12)" required />
                <input type="text" id="u_seriesId" placeholder="Series ID (e.g., Attack On Titan)" required />
                <div class="flex-row">
                    <input type="number" id="u_season" placeholder="Season No." value="1" min="1" required />
                    <input type="number" id="u_episode" placeholder="Episode No." value="1" min="1" required />
                </div>
                <input type="url" id="u_image" placeholder="Image URL (Poster/Thumbnail)" required />
                <input type="url" id="u_video" placeholder="Video URL (Embed Link)" required />
                <textarea id="u_desc" placeholder="Description / Synopsis / Year (e.g., 2023)" required></textarea>
                <button type="submit" class="cta-btn">Submit Upload</button>
            </form>
        </div>
    </template>

    <template id="tpl-watch">
        <div class="watch-page">
            <div class="video-player-container">
                <iframe id="videoPlayer" width="100%" height="100%" src="" frameborder="0" allowfullscreen></iframe>
            </div>
            
            <div class="watch-details">
                <h1 id="watchTitle">Loading Title...</h1>
                <p id="watchDesc">Loading description...</p>
            </div>

            <div id="episodeListContainer" class="episode-list-container">
                </div>
        </div>
    </template>

    <template id="tpl-admin">
        <div class="admin-page">
            <h2>Admin Content Management</h2>
            <div id="adminContentList" class="admin-list">
                </div>
        </div>
    </template>

    <div id="paginationControls" class="pagination-controls">
        <button id="prevBtn" onclick="goToPreviousPage()" disabled>
            Previous
        </button>
        <span id="pageInfo">Page 1</span>
        <button id="nextBtn" onclick="goToNextPage()">
            Next
        </button>
    </div>
    
    <footer class="site-footer">
        <p>Made for Anime Lovers ‚ô•</p>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
