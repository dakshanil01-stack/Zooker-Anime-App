<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zooker — Anime & Movies</title>
  <link rel="stylesheet" href="styles.css" />
  
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
</head>
<body>

  <div id="app">
    <header class="site-header">
      <div class="brand">ZOOKER</div>
      <nav>
        <a href="#" onclick="navigate('home')">Home</a>
        <a href="#" id="uploadLink" onclick="navigate('upload')" style="display:none;">Upload</a> 
        <a href="#" id="authLink" onclick="navigate('login')">Login</a>
        <a href="#" id="logoutBtn" style="display:none;" onclick="logoutUser()">Logout</a>
      </nav>
    </header>

    <main id="view" class="container"></main>

    <footer class="site-footer">
      <p>Made for Anime Lovers ♥</p>
    </footer>
  </div>

  <template id="tpl-home">
    <section class="hero">
      <h1>Stream Free Anime & Movies</h1>
      <p>Welcome To Our Site</p>
    </section>
    <section id="animeList" class="grid">
      <p>Loading content...</p>
    </section>
  </template>

<template id="tpl-watch">
    <section class="watch-container">
      <button class="back-btn" onclick="navigate('home')">← Back to Home</button>
      <div class="video-wrapper">
        <iframe id="videoPlayer" src="" frameborder="0" allowfullscreen></iframe>
      </div>
      <h2 id="watchTitle">Title Loading...</h2>
      <p id="watchDesc">Description</p>
      
      <div id="episodeListContainer" class="episode-list"></div>

    </section>
</template>

  <template id="tpl-login">
    <section class="auth-card">
      <h2>Login</h2>
      <form onsubmit="handleLogin(event)">
        <input id="loginEmail" type="email" placeholder="Email" required />
        <input id="loginPass" type="password" placeholder="Password" required />
        <button type="submit">Login</button>
      </form>
      <p>New here? <a href="#" onclick="navigate('signup')">Create Admin Account</a></p>
    </section>
  </template>

  <template id="tpl-signup">
    <section class="auth-card">
      <h2>Sign Up</h2>
      <form onsubmit="handleSignup(event)">
        <input id="signEmail" type="email" placeholder="Email" required />
        <input id="signPass" type="password" placeholder="Password" required />
        <label style="display:flex; align-items:center; gap:10px; margin:10px 0;">
          <input id="isAdmin" type="checkbox" /> 
          I am an Admin (Upload Permission)
        </label>
        <button type="submit">Create Account</button>
      </form>
      <p>Already have an account? <a href="#" onclick="navigate('login')">Login</a></p>
    </section>
  </template>

 <template id="tpl-upload">
    <section class="upload-card">
      <h2>Upload New Anime</h2>
      <form onsubmit="handleUpload(event)">
        <input id="u_title" placeholder="Full Title (e.g., Attack on Titan S1 E1)" required />
        <input id="u_seriesId" placeholder="Series ID (e.g., AttackOnTitan)" required />
        <input id="u_season" type="number" placeholder="Season Number (e.g., 1)" required />
        <input id="u_episode" type="number" placeholder="Episode Number (e.g., 1)" required />
        
        <hr style="border-color:#444; margin: 15px 0;">
        
        <input id="u_image" placeholder="Cover Image URL (Series Image)" required />
        <input id="u_video" placeholder="Video/Iframe URL (This Episode's Link)" required />
        <textarea id="u_desc" placeholder="Short Description"></textarea>
        <button type="submit">Upload Episode to Database</button>
      </form>
    </section>
</template>

  <script src="app.js"></script>
</body>
</html>
