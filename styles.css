// app.js (Example logic - à¤†à¤ªà¤•à¥‹ à¤‡à¤¸à¥‡ à¤…à¤ªà¤¨à¥‡ à¤®à¥Œà¤œà¥‚à¤¦à¤¾ code à¤®à¥‡à¤‚ à¤¡à¤¾à¤²à¤¨à¤¾ à¤¹à¥‹à¤—à¤¾)

function updateNavForAuthState(user) {
    const authLink = document.getElementById('authLink');
    const logoutBtn = document.getElementById('logoutBtn');
    const userMenu = document.getElementById('userMenu'); // Get the user menu div

    if (user) {
        // User is logged in
        authLink.style.display = 'none';
        logoutBtn.style.display = 'block';

        // ðŸ”¥ FIX: Populate the user menu dropdown with dynamic links
        userMenu.innerHTML = `
            <a href="#" id="uploadLinkMobile" onclick="navigate('upload'); closeUserMenu();">Upload</a>
            <a href="#" id="adminLinkMobile" onclick="navigate('admin'); closeUserMenu();">Admin</a>
            <a href="#" onclick="logoutUser(); closeUserMenu();">Logout</a>
        `;
        
        // Ensure that upload/admin links are also visible on desktop nav if user is admin/uploader
        document.getElementById('uploadLink').style.display = 'block';
        if (user.isAdmin) { /* Assuming user has an isAdmin property */
            document.getElementById('adminLink').style.display = 'block';
        }

    } else {
        // User is logged out
        authLink.style.display = 'block';
        logoutBtn.style.display = 'none';
        document.getElementById('uploadLink').style.display = 'none';
        document.getElementById('adminLink').style.display = 'none';
        
        // User menu only shows auth links if logged out
        userMenu.innerHTML = `<a href="#" onclick="navigate('login'); closeUserMenu();">Login</a>`;
    }
    // Set the display to none initially if not already done in JS logic
    userMenu.style.display = 'none'; 
}
